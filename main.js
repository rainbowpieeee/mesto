(()=>{"use strict";var e=document.querySelector(".page"),t=e.querySelector("#popupEditProfile"),n=e.querySelector("#popupAdditem"),r=e.querySelector("#popupItem"),o=e.querySelector("#popupAvatarChange"),i=(e.querySelector("#popupDeleteElement"),n.querySelector("#cardName-input"),n.querySelector("#img-input"),t.querySelector("#name-input")),a=t.querySelector("#role-input"),u=(o.querySelector("#avatar-input"),e.querySelector(".profile__edit-button")),s=e.querySelector(".profile__add-button"),l=(e.querySelector(".profile__avatar-container"),e.querySelector(".element__remove"),e.querySelector(".profile__name")),c=e.querySelector(".profile__role"),p=e.querySelector(".profile__avatar"),f=t.querySelector("#popup__editForm"),_=n.querySelector("#popup__addForm"),h=(o.querySelector("#popup__changeAvatar"),e.querySelector(".elements")),d={inputElement:".popup__edit-profile",submitButtons:".popup__button",submitButtonDisabled:"popup__button_disabled",inputErrors:"popup__input_type_error",spanErrorsActive:"popup__input-error_active",spanErrors:".popup__input-error"};function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._cardSelector=r,this._handleCardClick=o}var t,n;return t=e,(n=[{key:"getCard",value:function(){return this._cardTemplate=document.querySelector(this._cardSelector).content,this._newCard=this._cardTemplate.querySelector(".element").cloneNode(!0),this._newCard}},{key:"_setEventListeners",value:function(){var e=this;this._cardText=this._newCard.querySelector(".element__title"),this._cardImage=this._newCard.querySelector(".element__pic"),this._cardDeleteButton=this._newCard.querySelector(".element__remove"),this._likeButton=this._newCard.querySelector(".element__like"),this._likeButton.addEventListener("click",(function(){e._likeButton.classList.toggle("element__like_active")})),this._cardDeleteButton.addEventListener("click",(function(e){e.target.closest(".element").remove()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"generateCard",value:function(){return this._element=this.getCard(),this._setEventListeners(),this._cardText.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name,this._element}}])&&m(t.prototype,n),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"_showInputError",(function(e,t){var n=r._formElement.querySelector(".popup__".concat(e.id,"-error"));e.classList.add(r._inputErrors),n.textContent=t,n.classList.add(r._spanErrorsActive)})),b(this,"_hideInputError",(function(e){var t=r._formElement.querySelector(".popup__".concat(e.id,"-error"));e.classList.remove(r._inputErrors),t.classList.remove(r._spanErrorsActive),t.textContent=""})),b(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),b(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),b(this,"enableValidation",(function(){r._setEventListeners()})),b(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),b(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r._submitButtonElement.classList.add(r._submitButtonDisabled),r._submitButtonElement.setAttribute("disabled",!0)):(r._submitButtonElement.classList.remove(r._submitButtonDisabled),r._submitButtonElement.removeAttribute("disabled"))})),this._inputElement=t.inputElement,this._submitButtons=t.submitButtons,this._submitButtonDisabled=t.submitButtonDisabled,this._inputErrors=t.inputErrors,this._spanErrorsActive=t.spanErrorsActive,this._spanErrors=t.spanErrors,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputElement)),this._submitButtonElement=this._formElement.querySelector(this._submitButtons),this._spanErrorsList=Array.from(this._formElement.querySelectorAll(this._spanErrors))}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&v(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._renderedItems.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&g(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target.classList.contains("popup_opened")&&this.close()}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__button-close").addEventListener("click",(function(){return e.close()})),this._popup.addEventListener("click",this._handleOverlayClose.bind(this))}}])&&w(t.prototype,n),e}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},O(e,t,n||e)}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function j(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._name=t._popup.querySelector(".popup__item-caption"),t._link=t._popup.querySelector(".popup__item-pic"),t}return t=a,(n=[{key:"open",value:function(e,t){O(I(a.prototype),"open",this).call(this),this._link.src=t,this._link.alt=e,this._name.textContent=e}}])&&L(t.prototype,n),a}(S);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){var n=t.name,r=t.role,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userNameElement=n,this._userAboutElement=r,this._userAvatarElement=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._userData={},this._userData.name=this._userNameElement.textContent,this._userData.role=this._userAboutElement.textContent,this._userData.avatar=this._userAvatarElement.link,this._userData}},{key:"setUserInfo",value:function(e){e.name&&(this._userNameElement.textContent=e.name),e.role&&(this._userAboutElement.textContent=e.role),e.avatar&&(this._userAvatarElement.link=e.avatar)}}])&&x(t.prototype,n),e}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},R(e,t,n||e)}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function V(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(o){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormsubmit=t,n._popupForm=n._popup.querySelector(".popup__edit-form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=Array.from(this._popupForm.querySelectorAll(".popup__edit-profile")),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;R(F(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormsubmit(e._getInputValues())}))}},{key:"close",value:function(){R(F(a.prototype),"close",this).call(this),this._popupForm.reset()}}])&&D(t.prototype,n),a}(S),M=new N(n,(function(e){var t=H(e.nameItem,e.pic);U.addItem(t),M.close()}));M.setEventListeners();var U=new k({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Архыз"},{name:"Гора Эльбрус",link:"https://images.unsplash.com/photo-1626518139514-65676cf25bac?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",alt:"Гора Эльбрус"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Камчатка"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Холмогорский район"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Байкал"}],renderer:function(e){var t=H(e.name,e.link);U.addItem(t)}},h);function H(e,t){return new y(e,t,".elements-list",z).generateCard()}U.renderItems();var G=new B(r);function z(e,t){G.open(e,t)}G.setEventListeners();var W=new A({name:l,role:c,avatar:p}),Y=new N(t,(function(e){W.setUserInfo(e),Y.close()}),f);Y.setEventListeners(),u.addEventListener("click",(function(){Y.open();var e=W.getUserInfo();i.value=e.name,a.value=e.role,J.resetValidation()})),s.addEventListener("click",(function(){M.open(),K.resetValidation()}));var J=new E(d,f);J.enableValidation();var K=new E(d,_);K.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0JBRVAsQ0FDRTdCLEtBQU0sU0FDTkMsS0FBTSxnRkFDTjRCLElBQUssV1FXUm9DLFNBQVMsU0FBQ0ksR0FDVCxJQUFNc0MsRUFBY04sRUFBV2hDLEVBQUtyRSxLQUFNcUUsRUFBS3BFLE1BRS9DdUcsRUFBZUMsUUFBUUUsS0FDckJwSCxHQUlKLFNBQVM4RyxFQUFXckcsRUFBS0MsR0FFeEIsT0FEYSxJQUFJRixFQUFLQyxFQUFNQyxFUldiLGlCUVg0QkUsR0FDL0J5RyxlQUpiSixFQUFlSyxjQU9mLElBQU1DLEVBQWdCLElBQUk3QixFQUFlckcsR0FHekMsU0FBU3VCLEVBQWdCSCxFQUFNQyxHQUM5QjZHLEVBQWNDLEtBQUsvRyxFQUFNQyxHQUgxQjZHLEVBQWNKLG9CQU9kLElBQU1NLEVBQWMsSUFBSTlCLEVBQVMsQ0FDaENsRixLQUFNZCxFQUNOaUcsS0FBTWhHLEVBQ05pRyxPQUFRaEcsSUFHSDZILEVBQW1CLElBQUl4QixFQUFjL0csR0FBa0IsU0FBQzJGLEdBQzdEMkMsRUFBWUUsWUFBWTdDLEdBQ3hCNEMsRUFBaUJwQyxVQUNoQnhGLEdBQ0Y0SCxFQUFpQlAsb0JBRWpCMUgsRUFBa0JpQyxpQkFBaUIsU0FBUyxXQUMzQ2dHLEVBQWlCRixPQUNqQixJQUFNSSxFQUFlSCxFQUFZSSxjQUNqQ3RJLEVBQVVpSCxNQUFRb0IsRUFBYW5ILEtBQy9CakIsRUFBU2dILE1BQVFvQixFQUFhaEMsS0FDOUJrQyxFQUF5QkMscUJBRzFCckksRUFBaUJnQyxpQkFBaUIsU0FBUyxXQUMxQ2tGLEVBQVFZLE9BQ1JRLEVBQXdCRCxxQkFHekIsSUFBTUQsRUFBMkIsSUFBSXZGLEVBQWN0QyxFQUFRSCxHQUMzRGdJLEVBQXlCRyxtQkFFekIsSUFBTUQsRUFBMEIsSUFBSXpGLEVBQWN0QyxFQUFRRixHQUMxRGlJLEVBQXdCQyxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFrdGlrdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gINC80LDRgdGB0LjQsiDQutCw0YDRgtC+0YfQtdC6LCDQutC+0YLQvtGA0YvQtSDQtNC+0LHQsNCy0LvRj9GO0YLRgdGPINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INGB0YLRgNCw0L3QuNGG0YtcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxuICAgIGFsdDogJ9CQ0YDRhdGL0LcnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ9CT0L7RgNCwINCt0LvRjNCx0YDRg9GBJyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MjY1MTgxMzk1MTQtNjU2NzZjZjI1YmFjP2l4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmaXhsaWI9cmItMS4yLjEmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz02MzQmcT04MCcsXG4gICAgYWx0OiAn0JPQvtGA0LAg0K3Qu9GM0LHRgNGD0YEnLFxuICB9LFxuICB7XG4gICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJyxcbiAgICBhbHQ6ICfQmNCy0LDQvdC+0LLQvicsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJyxcbiAgICBhbHQ6ICfQmtCw0LzRh9Cw0YLQutCwJyxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJyxcbiAgICBhbHQ6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnLFxuICAgIGFsdDogJ9CR0LDQudC60LDQuycsXG4gIH0sXG5dO1xuLy/Qv9C10YDQtdC80LXQvdC90YvQtVxuY29uc3QgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlJyk7XG4vLyDQn9C+0L/QsNC/0YtcbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cEVkaXRQcm9maWxlJyk7XG5jb25zdCBwb3B1cEFkZGl0ZW0gPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cEFkZGl0ZW0nKTtcbmNvbnN0IHBvcHVwUGljdHVyZSA9IHBhZ2UucXVlcnlTZWxlY3RvcignI3BvcHVwSXRlbScpO1xuY29uc3QgcG9wdXBBdmF0YXIgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cEF2YXRhckNoYW5nZScpO1xuY29uc3QgcG9wdXBEZWxldGUgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cERlbGV0ZUVsZW1lbnQnKTtcbi8vINC40L3Qv9GD0YLRi1xuY29uc3QgcGxhY2VJbnB1dCA9IHBvcHVwQWRkaXRlbS5xdWVyeVNlbGVjdG9yKCcjY2FyZE5hbWUtaW5wdXQnKTtcbmNvbnN0IHBpY3R1cmVJbnB1dCA9IHBvcHVwQWRkaXRlbS5xdWVyeVNlbGVjdG9yKCcjaW1nLWlucHV0Jyk7XG5jb25zdCBuYW1lSW5wdXQgPSBwb3B1cEVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJyNuYW1lLWlucHV0Jyk7XG5jb25zdCBqb2JJbnB1dCA9IHBvcHVwRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcignI3JvbGUtaW5wdXQnKTtcbmNvbnN0IGF2YXRhcklucHV0ID0gcG9wdXBBdmF0YXIucXVlcnlTZWxlY3RvcignI2F2YXRhci1pbnB1dCcpO1xuLy8g0JrQvdC+0L/QutC4INCy0YvQt9C+0LLQsCDQv9C+0L/QsNC/XG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBwcm9maWxlQWRkQnV0dG9uID0gcGFnZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuY29uc3QgUHJvZmlsZUF2YXRhckJ1dHRvbiA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1jb250YWluZXInKTtcbmNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19yZW1vdmUnKTtcbi8vINCf0L7Qu9GPINC00LvRjyDQstGB0YLQsNCy0LrQuFxuY29uc3QgcHJvZmlsZU5hbWUgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XG5jb25zdCBwcm9maWxlUm9sZSA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3JvbGUnKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbi8vINCk0L7RgNC80YtcbmNvbnN0IGVkaXRGb3JtID0gcG9wdXBFZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcjcG9wdXBfX2VkaXRGb3JtJyk7XG5jb25zdCBhZGRGb3JtID0gcG9wdXBBZGRpdGVtLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fYWRkRm9ybScpO1xuY29uc3QgYXZhdGFyRm9ybSA9IHBvcHVwQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fY2hhbmdlQXZhdGFyJyk7XG5cbmNvbnN0IGVsZW1lbnQgPSAnLmVsZW1lbnRzLWxpc3QnO1xuY29uc3QgZWxlbWVudHMgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpO1xuXG4vL9Cy0LDQu9C40LTQsNGG0LjRj1xuY29uc3Qgb2JqZWN0ID0gKHtcbiAgaW5wdXRFbGVtZW50OiAnLnBvcHVwX19lZGl0LXByb2ZpbGUnLFxuICBzdWJtaXRCdXR0b25zOiAnLnBvcHVwX19idXR0b24nLFxuICBzdWJtaXRCdXR0b25EaXNhYmxlZDogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgc3BhbkVycm9yc0FjdGl2ZTogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxuICBzcGFuRXJyb3JzOiAnLnBvcHVwX19pbnB1dC1lcnJvcicsXG59KTtcblxuZXhwb3J0e1xuXHRpbml0aWFsQ2FyZHMsXG5cdHBvcHVwRWRpdFByb2ZpbGUsXG5cdHBvcHVwQWRkaXRlbSxcbiAgcG9wdXBBdmF0YXIsXG4gIHBvcHVwRGVsZXRlLFxuICBwb3B1cFBpY3R1cmUsXG5cdHBsYWNlSW5wdXQsXG5cdHBpY3R1cmVJbnB1dCxcblx0bmFtZUlucHV0LFxuXHRqb2JJbnB1dCxcbiAgYXZhdGFySW5wdXQsXG5cdHByb2ZpbGVFZGl0QnV0dG9uLFxuXHRwcm9maWxlQWRkQnV0dG9uLFxuICBQcm9maWxlQXZhdGFyQnV0dG9uLFxuICBjYXJkRGVsZXRlQnV0dG9uLFxuXHRwcm9maWxlTmFtZSxcblx0cHJvZmlsZVJvbGUsXG4gIHByb2ZpbGVBdmF0YXIsXG4gIGVkaXRGb3JtLFxuICBhZGRGb3JtLFxuICBhdmF0YXJGb3JtLFxuICBlbGVtZW50LFxuICBlbGVtZW50cyxcblx0b2JqZWN0LFxufSIsImV4cG9ydCBjbGFzcyBDYXJkIHtcblxuXHRjb25zdHJ1Y3RvcihuYW1lLCBsaW5rLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljayl7XG5cdFx0dGhpcy5fbmFtZSA9IG5hbWVcblx0XHR0aGlzLl9saW5rID0gbGlua1xuXHRcdHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvclxuXHRcdHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGlja1xuXHR9XG5cblx0Z2V0Q2FyZCgpe1xuXHRcdHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKS5jb250ZW50O1xuXHRcdHRoaXMuX25ld0NhcmQgPSB0aGlzLl9jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKS5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0cmV0dXJuIHRoaXMuX25ld0NhcmRcblx0fVxuXG5cdF9zZXRFdmVudExpc3RlbmVycygpIHtcblx0XHR0aGlzLl9jYXJkVGV4dCA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XG5cdFx0dGhpcy5fY2FyZEltYWdlID0gdGhpcy5fbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGljJyk7XG5cdFx0dGhpcy5fY2FyZERlbGV0ZUJ1dHRvbiA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3JlbW92ZScpO1xuXHRcdHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XG5cblx0XHR0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG5cdFx0XHR0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG5cdFx0fSlcblx0XHR0aGlzLl9jYXJkRGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2dCl7XG5cdFx0XHRjb25zdCBldnRUYXJnZXQgPSBldnQudGFyZ2V0XG5cdFx0XHRldnRUYXJnZXQuY2xvc2VzdCgnLmVsZW1lbnQnKS5yZW1vdmUoKTtcblx0XHR9KVxuXHRcdHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XG5cdFx0XHR0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XG5cdFx0fSlcblx0fVxuXHRcblx0Z2VuZXJhdGVDYXJkKCkge1xuXHRcdHRoaXMuX2VsZW1lbnQgPSB0aGlzLmdldENhcmQoKVxuXG5cdFx0dGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG5cdFx0dGhpcy5fY2FyZFRleHQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lXG5cdFx0dGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbmtcblx0XHR0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZVxuXG5cdFx0cmV0dXJuIHRoaXMuX2VsZW1lbnRcblx0fVxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Iob2JqLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudCA9IG9iai5pbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9ucyA9IG9iai5zdWJtaXRCdXR0b25zO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkRpc2FibGVkID0gb2JqLnN1Ym1pdEJ1dHRvbkRpc2FibGVkO1xuICAgIHRoaXMuX2lucHV0RXJyb3JzID0gb2JqLmlucHV0RXJyb3JzO1xuICAgIHRoaXMuX3NwYW5FcnJvcnNBY3RpdmUgPSBvYmouc3BhbkVycm9yc0FjdGl2ZTtcbiAgICB0aGlzLl9zcGFuRXJyb3JzID0gb2JqLnNwYW5FcnJvcnM7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRFbGVtZW50KSk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9ucyk7XG4gICAgdGhpcy5fc3BhbkVycm9yc0xpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc3BhbkVycm9ycykpO1xuICB9O1xuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wb3B1cF9fJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvcnMpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zcGFuRXJyb3JzQWN0aXZlKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLnBvcHVwX18ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9ycyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc3BhbkVycm9yc0FjdGl2ZSk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50PSAnJztcbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfTtcbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc3VibWl0QnV0dG9uRGlzYWJsZWQpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zdWJtaXRCdXR0b25EaXNhYmxlZCk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB9O1xuICB9O1xuICBcblx0cmVzZXRWYWxpZGF0aW9uKCkge1xuXHRcdHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7Ly8gPD09INGD0L/RgNCw0LLQu9GP0LXQvCDQutC90L7Qv9C60L7QuSA9PVxuXHRcblx0XHR0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG5cdFx0XHR0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpLy8gPD090L7Rh9C40YnQsNC10Lwg0L7RiNC40LHQutC4ID09XG5cdFx0fSk7XG5cdH1cbn07IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuXHRjb25zdHJ1Y3Rvcih7aXRlbXMsIHJlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3Ipe1xuXHRcdHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtc1xuXHRcdHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXJcblx0XHR0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvclxuXHR9XG5cblx0cmVuZGVySXRlbXMoKXtcblx0XHR0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XG5cdH1cblxuXHRhZGRJdGVtKGl0ZW0pIHtcblx0XHR0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcblx0fVxufSIsImV4cG9ydCBjbGFzcyBQb3B1cHtcblx0Y29uc3RydWN0b3IocG9wdXApe1xuXHRcdHRoaXMuX3BvcHVwID0gcG9wdXA7XG5cdFx0dGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuXHR9O1xuXG5cdF9oYW5kbGVFc2NDbG9zZShldnQpe1xuXHRcdGlmIChldnQua2V5ID09PSAnRXNjYXBlJyl7XG5cdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KXtcblx0XHRpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpKXtcblx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHR9XG5cdH07XG5cblx0b3Blbigpe1xuXHRcdHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG5cdH07XG5cblx0Y2xvc2UoKXtcblx0XHR0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcblx0XHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuXHR9O1xuXG5cdHNldEV2ZW50TGlzdGVuZXJzKCl7XG5cdFx0dGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tY2xvc2UnKVxuXHRcdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuY2xvc2UoKSk7XG5cdFx0dGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UuYmluZCh0aGlzKSk7XG5cdH07XG59OyIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuXHRjb25zdHJ1Y3Rvcihwb3B1cCl7XG5cdFx0c3VwZXIocG9wdXApXG5cdFx0dGhpcy5fbmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faXRlbS1jYXB0aW9uJylcblx0XHR0aGlzLl9saW5rID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pdGVtLXBpYycpXG5cdH1cblx0b3BlbihuYW1lLCBsaW5rKXtcblx0XHRzdXBlci5vcGVuKClcblx0XHR0aGlzLl9saW5rLnNyYyA9IGxpbmtcblx0XHR0aGlzLl9saW5rLmFsdCA9IG5hbWVcblx0XHR0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZVxuXHR9XG59IiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZveyBcblx0Y29uc3RydWN0b3Ioe25hbWUsIHJvbGUsIGF2YXRhcn0pe1xuXHRcdHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IG5hbWVcblx0XHR0aGlzLl91c2VyQWJvdXRFbGVtZW50ID0gcm9sZVxuXHRcdHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50ID0gYXZhdGFyXG5cdH1cblxuXHRnZXRVc2VySW5mbygpe1xuXHRcdHRoaXMuX3VzZXJEYXRhID0ge31cblx0XHR0aGlzLl91c2VyRGF0YS5uYW1lID0gdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50XG5cdFx0dGhpcy5fdXNlckRhdGEucm9sZSA9IHRoaXMuX3VzZXJBYm91dEVsZW1lbnQudGV4dENvbnRlbnRcblx0XHR0aGlzLl91c2VyRGF0YS5hdmF0YXIgPSB0aGlzLl91c2VyQXZhdGFyRWxlbWVudC5saW5rXG5cdFx0cmV0dXJuIHRoaXMuX3VzZXJEYXRhXG5cdH1cblxuXHRzZXRVc2VySW5mbyhpdGVtKXtcblx0XHRpZiAoaXRlbS5uYW1lKXtcblx0XHRcdHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGl0ZW0ubmFtZVxuXHRcdH1cblx0XHRpZiAoaXRlbS5yb2xlKXsgXG5cdFx0XHR0aGlzLl91c2VyQWJvdXRFbGVtZW50LnRleHRDb250ZW50ID0gaXRlbS5yb2xlXG5cdFx0fVxuXHRcdGlmIChpdGVtLmF2YXRhcil7XG5cdFx0XHR0aGlzLl91c2VyQXZhdGFyRWxlbWVudC5saW5rID0gaXRlbS5hdmF0YXJcblx0XHR9XG5cdH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XG5cdGNvbnN0cnVjdG9yKHBvcHVwLCBoYW5kbGVGb3Jtc3VibWl0KXtcblx0XHRzdXBlcihwb3B1cCk7XG5cdFx0dGhpcy5faGFuZGxlRm9ybXN1Ym1pdCA9IGhhbmRsZUZvcm1zdWJtaXQ7XG5cdFx0dGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19lZGl0LWZvcm0nKTtcblx0fVxuXG5cdF9nZXRJbnB1dFZhbHVlcygpe1xuXHRcdHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZWRpdC1wcm9maWxlXCIpXG5cdFx0XHQpO1xuXHRcdHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fVxuXHRcdHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuXHRcdFx0dGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuXHRcdH0pXG5cdFx0cmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXNcblx0fVxuXG5cdHNldEV2ZW50TGlzdGVuZXJzKCl7XG5cdFx0c3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXHRcdHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMuX2hhbmRsZUZvcm1zdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG5cdFx0fSlcblx0fVxuXG5cdGNsb3NlKCl7XG5cdFx0c3VwZXIuY2xvc2UoKTtcblx0XHR0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcblx0fVxufSIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IHsgXG5cdGluaXRpYWxDYXJkcyxcblx0cG9wdXBFZGl0UHJvZmlsZSxcblx0cG9wdXBBZGRpdGVtLFxuICBwb3B1cEF2YXRhcixcbiAgcG9wdXBEZWxldGUsXG4gIHBvcHVwUGljdHVyZSxcblx0bmFtZUlucHV0LFxuXHRqb2JJbnB1dCxcbiAgYXZhdGFySW5wdXQsXG5cdHByb2ZpbGVFZGl0QnV0dG9uLFxuXHRwcm9maWxlQWRkQnV0dG9uLFxuICBQcm9maWxlQXZhdGFyQnV0dG9uLFxuICBjYXJkRGVsZXRlQnV0dG9uLFxuXHRwcm9maWxlTmFtZSxcblx0cHJvZmlsZVJvbGUsXG5cdHByb2ZpbGVBdmF0YXIsXG4gIGVkaXRGb3JtLFxuICBhZGRGb3JtLFxuICBhdmF0YXJGb3JtLFxuICBlbGVtZW50LFxuICBlbGVtZW50cyxcblx0b2JqZWN0LFxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcydcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJ1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJ1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJ1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcblxuY29uc3QgbmV3Q2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQWRkaXRlbSwgKGl0ZW0pID0+e1xuXHRjb25zdCBuZXdDYXJkcyA9IGNyZWF0ZUNhcmQoaXRlbS5uYW1lSXRlbSwgaXRlbS5waWMpXG5cdGNhcmRzQ2F0YWxvZ3VlLmFkZEl0ZW0obmV3Q2FyZHMpO1xuXHRuZXdDYXJkLmNsb3NlKCk7XG59KVxubmV3Q2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjYXJkc0NhdGFsb2d1ZSA9IG5ldyBTZWN0aW9uKHtcblx0aXRlbXM6IGluaXRpYWxDYXJkcyxcblx0cmVuZGVyZXI6KGl0ZW0pPT57XG5cdFx0Y29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGl0ZW0ubmFtZSwgaXRlbS5saW5rKVxuXG5cdFx0Y2FyZHNDYXRhbG9ndWUuYWRkSXRlbShjYXJkRWxlbWVudCk7XG5cdH19LGVsZW1lbnRzKTtcblxuY2FyZHNDYXRhbG9ndWUucmVuZGVySXRlbXMoKTtcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChuYW1lLGxpbmspIHtcblx0Y29uc3QgY2FyZCA9IG5ldyBDYXJkKG5hbWUsIGxpbmssIGVsZW1lbnQsIGhhbmRsZUNhcmRDbGljaylcblx0cmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbmNvbnN0IHBvcHVwQ2FyZFZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBQaWN0dXJlKVxucG9wdXBDYXJkVmlldy5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluayl7XG5cdHBvcHVwQ2FyZFZpZXcub3BlbihuYW1lLCBsaW5rKTtcbn1cblxuLy8g0J/QvtC/0LDQvyDQvtCx0L3QvtCy0LvQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUuXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyh7XG5cdG5hbWU6IHByb2ZpbGVOYW1lLFxuXHRyb2xlOiBwcm9maWxlUm9sZSxcblx0YXZhdGFyOiBwcm9maWxlQXZhdGFyLFxufSk7XG5cbmNvbnN0IHBvcHVwUHJvZmlsZUVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRQcm9maWxlLCAoaXRlbSkgPT4ge1xuXHRwcm9maWxlSW5mby5zZXRVc2VySW5mbyhpdGVtKTtcblx0cG9wdXBQcm9maWxlRWRpdC5jbG9zZSgpO1xufSxlZGl0Rm9ybSk7XG5wb3B1cFByb2ZpbGVFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0cG9wdXBQcm9maWxlRWRpdC5vcGVuKCk7XG5cdGNvbnN0IG9yaWdVc2VySW5mbyA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCk7XG5cdG5hbWVJbnB1dC52YWx1ZSA9IG9yaWdVc2VySW5mby5uYW1lO1xuXHRqb2JJbnB1dC52YWx1ZSA9IG9yaWdVc2VySW5mby5yb2xlO1xuXHRmb3JtVmFsaWRhdG9yRWRpdFByb2ZpbGUucmVzZXRWYWxpZGF0aW9uKCk7XG59KVxuLy8g0J/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0bmV3Q2FyZC5vcGVuKCk7XG5cdGZvcm1WYWxpZGF0b3JBZGRQaWN0dXJlLnJlc2V0VmFsaWRhdGlvbigpO1xufSlcblxuY29uc3QgZm9ybVZhbGlkYXRvckVkaXRQcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqZWN0LCBlZGl0Rm9ybSk7XG5mb3JtVmFsaWRhdG9yRWRpdFByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBmb3JtVmFsaWRhdG9yQWRkUGljdHVyZSA9IG5ldyBGb3JtVmFsaWRhdG9yKG9iamVjdCwgYWRkRm9ybSk7XG5mb3JtVmFsaWRhdG9yQWRkUGljdHVyZS5lbmFibGVWYWxpZGF0aW9uKCk7Il0sIm5hbWVzIjpbInBhZ2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwb3B1cEVkaXRQcm9maWxlIiwicG9wdXBBZGRpdGVtIiwicG9wdXBQaWN0dXJlIiwicG9wdXBBdmF0YXIiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUFkZEJ1dHRvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZVJvbGUiLCJwcm9maWxlQXZhdGFyIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiZWxlbWVudHMiLCJvYmplY3QiLCJpbnB1dEVsZW1lbnQiLCJzdWJtaXRCdXR0b25zIiwic3VibWl0QnV0dG9uRGlzYWJsZWQiLCJpbnB1dEVycm9ycyIsInNwYW5FcnJvcnNBY3RpdmUiLCJzcGFuRXJyb3JzIiwiQ2FyZCIsIm5hbWUiLCJsaW5rIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9jYXJkVGVtcGxhdGUiLCJjb250ZW50IiwiX25ld0NhcmQiLCJjbG9uZU5vZGUiLCJfY2FyZFRleHQiLCJfY2FyZEltYWdlIiwiX2NhcmREZWxldGVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJldnQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicmVtb3ZlIiwiX2VsZW1lbnQiLCJnZXRDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwib2JqIiwiZm9ybUVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImFkZCIsIl9pbnB1dEVycm9ycyIsIl9zcGFuRXJyb3JzQWN0aXZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0TGlzdCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5Iiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc3VibWl0QnV0dG9uRWxlbWVudCIsIl9zdWJtaXRCdXR0b25EaXNhYmxlZCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIl9pbnB1dEVsZW1lbnQiLCJfc3VibWl0QnV0dG9ucyIsIl9zcGFuRXJyb3JzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zcGFuRXJyb3JzTGlzdCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXAiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwia2V5IiwiY2xvc2UiLCJjb250YWlucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiUG9wdXBXaXRoSW1hZ2UiLCJVc2VySW5mbyIsInJvbGUiLCJhdmF0YXIiLCJfdXNlck5hbWVFbGVtZW50IiwiX3VzZXJBYm91dEVsZW1lbnQiLCJfdXNlckF2YXRhckVsZW1lbnQiLCJfdXNlckRhdGEiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybXN1Ym1pdCIsIl9oYW5kbGVGb3Jtc3VibWl0IiwiX3BvcHVwRm9ybSIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJuZXdDYXJkIiwibmV3Q2FyZHMiLCJjcmVhdGVDYXJkIiwibmFtZUl0ZW0iLCJwaWMiLCJjYXJkc0NhdGFsb2d1ZSIsImFkZEl0ZW0iLCJzZXRFdmVudExpc3RlbmVycyIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwicmVuZGVySXRlbXMiLCJwb3B1cENhcmRWaWV3Iiwib3BlbiIsInByb2ZpbGVJbmZvIiwicG9wdXBQcm9maWxlRWRpdCIsInNldFVzZXJJbmZvIiwib3JpZ1VzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJmb3JtVmFsaWRhdG9yRWRpdFByb2ZpbGUiLCJyZXNldFZhbGlkYXRpb24iLCJmb3JtVmFsaWRhdG9yQWRkUGljdHVyZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9